# Fate Grand Order
FGO 模拟抽卡插件 for [HoshinoBot](https://github.com/Ice-Cirno/HoshinoBot)

GitHub与问题反馈: https://github.com/kcn3388/fgogacha

更新日志
======
### 2022
- 7.27
  - 修正日替池子不正确的bug
  - 将所有触发词改为正则表达式触发，现在可以使用拼音缩写进行命令触发
    - 如：``切换fgo卡池`` → ``qhfgokc``
    - ~~主要是方便调试~~
- 7.27
  - 修改触发方式为正则表达式，不再需要atbot，现在可以同时检测\[fgo/bgo/FGO/BGO\]\[十/百/10/100\]\[连/l/L\]
    - ~~因为懒得打连字，直接fgo100l不快吗~~
  - 修正是否pickup卡池的检测
- 7.27
  - 修正了一部分抽卡结果语句
  - 修正了无pickup四星/五星时的抽卡结果语句
  - 修正了抽卡结果图片
    - 现在抽卡结果为4列
    - 添加了背景，感谢[@GWYOG](https://github.com/GWYOG/GWYOG-Hoshino-plugins#8-%E6%88%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E9%9B%86%E5%8D%A1%E5%B0%8F%E6%B8%B8%E6%88%8Fpokemanpcr)的戳一戳集卡插件的背景
    - ~~画个饼，后面拿游戏内截图做十连抽卡的背景（~~
  - 添加了海豹判断条件，当豹跳时发送一张海の翁.jpg
- 7.26 
  - 支持日替池，食用方法：``[切换fgo日替卡池 + 卡池编号 + 日替卡池编号] 切换需要的日替卡池``
- ~~7.26~~ 
  - ~~插件上线，暂不支持日替池（在写了在写了）~~

使用方法
======
# 抽卡模拟相关
[fgo十连] fgo抽卡

[fgo百连] 100抽

[获取fgo卡池] 从mooncell获取卡池数据

[查询fgo卡池] 查询本地缓存的卡池以及本群卡池

[切换fgo卡池 + 卡池编号] 切换需要的卡池

[切换fgo日替卡池 + 卡池编号 + 日替卡池编号] 切换需要的日替卡池

# 抽卡管理命令:

[fgo数据初始化] 初始化数据文件及目录，务必安装后先执行此命令！

[fgo数据下载] 下载从者及礼装图标，务必先初始化数据再执行下载！

安装
======
- 将本项目放在hoshino/modules/目录下
- res目录为抽卡相关素材，需要手动使用指令下载，路径为Hoshino的res/img/fgo文件夹下。
- 使用“fgo数据初始化”“fgo数据下载”“获取fgo卡池”载入卡池数据

说明
======
- ~~暂不支持日替池~~
- 屎代码警告
- 部分情况下出金卡的计数会出错（主要是百连），回头有空再修